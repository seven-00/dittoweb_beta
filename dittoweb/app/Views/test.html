<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bootstrap Autocomplete Search with Popup</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <!-- Custom CSS -->
  <style>
    .list-group-item:hover {
      background-color: #f1f1f1; /* Background color on hover */
      cursor: pointer;
    }
  </style>
</head>
<body>
<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <!-- Search input field with popover -->
      <div class="input-group">
        <input id="searchInput" class="form-control" type="text" placeholder="Search" aria-label="Search" autocomplete="off">
        <div class="input-group-append">
          <button class="btn btn-primary" type="button" onclick="search()">Search</button>
        </div>
      </div>
      <!-- Autocomplete suggestions (hidden initially) -->
      <div id="autocompleteList" class="list-group mt-1" style="display: none;"></div>
    </div>
  </div>
</div>

<!-- Bootstrap JS (include jQuery before Bootstrap JS) -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
  // Simulated autocomplete data
  const autocompleteData = [
    "Apple",
    "Banana",
    "Orange",
    "Grapes",
    "Pineapple"
  ];

  // Function to update autocomplete suggestions
  function updateAutocomplete(input, arr) {
    let autocompleteList = document.getElementById('autocompleteList');
    autocompleteList.innerHTML = ''; // Clear previous suggestions
    for (let i = 0; i < arr.length; i++) {
      let item = arr[i];
      let listItem = document.createElement('a');
      listItem.classList.add('list-group-item', 'list-group-item-action');
      listItem.textContent = item;
      listItem.addEventListener('click', function() {
        input.value = item;
        autocompleteList.style.display = 'none'; // Hide autocomplete suggestions
      });
      autocompleteList.appendChild(listItem);
    }
    if (arr.length > 0) {
      autocompleteList.style.display = 'block'; // Show autocomplete suggestions
    } else {
      autocompleteList.style.display = 'none'; // Hide autocomplete suggestions if there are no matches
    }
  }

  // Function to search (for demonstration purposes)
  function search() {
    let query = document.getElementById('searchInput').value;
    // Perform search operation here
    console.log("Search query: " + query);
  }

  document.addEventListener('DOMContentLoaded', function() {
    let searchInput = document.getElementById('searchInput');
    searchInput.addEventListener('input', function() {
      let value = this.value.toLowerCase();
      let matches = autocompleteData.filter(item => item.toLowerCase().includes(value));
      updateAutocomplete(searchInput, matches);
    });
  });
</script>

</body>
</html>
